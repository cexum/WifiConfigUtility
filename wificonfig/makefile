# change application name here (executable output name)
EXE=wificonfig

# compiler
CC=gcc

# compiler command line params
# -Wall || -Wno-deprecated
CCPARAM=-std=gnu11 -g -O0 -Wall -Wno-deprecated-declarations -pipe -pthread

# linker command line params
#GTKLIB=`pkg-config --cflags --libs gtk+-3.0`
GTKLIB=`pkg-config --cflags --libs gtk+-3.0`
LPARAM=$(GTKLIB) -export-dynamic -lpigpio -lrt 

# ADD NEW FILES TO BE COMPILED HERE
OBJS=src/wificonfig.o

# recipe for linking everything together into the executable
all: $(OBJS)
	$(CC) -o $(EXE) $(OBJS) $(LPARAM) -lm

# recipe for individual files (*.c => *.o)
%.o: %.c
	$(CC) -c $(CCPARAM) $< $(GTKLIB) -o $@

# recipe to remove all files generated by the compiler (reduce to source)
clean:
	rm -f *.o $(EXE)
